{"ast":null,"code":"var _jsxFileName = \"/home/suman/react-projects/redux/my-bookstore/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport HomePage from './container/HomePage/HomePage';\nimport AdminMainContainer from './container/AdminContainers/AdminMainContainer/AdminMainContainer';\nimport Signin from './components/Auth/Signin/Signin';\nimport Signup from './components/Auth/Signup/Signup';\nimport Logout from './components/Auth/Logout/Logout';\nimport { auth, createUserProfileDocument } from './firebase/index';\nimport classes from './App.module.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.unSubscribeFromAuth = null;\n    this.state = {\n      admin: false,\n      currentUser: ''\n    };\n  }\n\n  componentDidMount() {\n    this.unSubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          const result = snapShot.data().email === 'suman.crest0001@gmail.com';\n          this.setState({\n            currentUser: {\n              id: snapShot.id,\n              ...snapShot.data()\n            },\n            admin: result\n          });\n        });\n      } else {\n        this.setState({\n          currentUser: userAuth,\n          admin: false\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.unSubscribeFromAuth();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.App,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/signin\",\n      exact: true,\n      component: Signin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      exact: true,\n      component: Signup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/logout\",\n      exact: true,\n      component: Logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/auth\",\n      render: () => this.state.admin ? /*#__PURE__*/React.createElement(AdminMainContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 67\n        }\n      }) : /*#__PURE__*/React.createElement(HomePage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 92\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: HomePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/suman/react-projects/redux/my-bookstore/src/App.js"],"names":["React","Component","BrowserRouter","Route","Redirect","Switch","HomePage","AdminMainContainer","Signin","Signup","Logout","auth","createUserProfileDocument","classes","App","constructor","unSubscribeFromAuth","state","admin","currentUser","componentDidMount","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","result","data","email","setState","id","componentWillUnmount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter, Route, Redirect, Switch,\n} from 'react-router-dom';\nimport HomePage from './container/HomePage/HomePage';\nimport AdminMainContainer from './container/AdminContainers/AdminMainContainer/AdminMainContainer';\nimport Signin from './components/Auth/Signin/Signin';\nimport Signup from './components/Auth/Signup/Signup';\nimport Logout from './components/Auth/Logout/Logout';\nimport { auth, createUserProfileDocument } from './firebase/index';\nimport classes from './App.module.css';\n\n\nclass App extends Component {\n  unSubscribeFromAuth = null;\n\n  constructor() {\n    super();\n    this.state = {\n      admin: false,\n      currentUser: '',\n    };\n  }\n\n  componentDidMount() {\n    this.unSubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          const result = snapShot.data().email === 'suman.crest0001@gmail.com';\n          this.setState({\n            currentUser: {\n              id: snapShot.id,\n              ...snapShot.data(),\n            },\n            admin: result,\n          });\n        });\n      } else {\n        this.setState({ currentUser: userAuth, admin: false });\n      }\n    });\n  }\n\n\n  componentWillUnmount() {\n    this.unSubscribeFromAuth();\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <div className={classes.App}>\n          <Switch>\n            <Route path=\"/signin\" exact component={Signin} />\n            <Route path=\"/register\" exact component={Signup} />\n            <Route path=\"/logout\" exact component={Logout} />\n            <Route path=\"/auth\" render={() => (this.state.admin ? <AdminMainContainer /> : <HomePage />)} />\n            <Route path=\"/\" exact component={HomePage} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}