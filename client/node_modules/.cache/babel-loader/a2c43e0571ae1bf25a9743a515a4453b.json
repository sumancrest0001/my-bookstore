{"ast":null,"code":"import _regeneratorRuntime from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{firestore}from'../../firebase/index';import{getBooks}from'../../redux/actions/book.actions';import SingleBook from'../../components/SingleBook/SingleBook';import{books}from'../../utilities/utility';import'./HomePage.scss';var HomePage=/*#__PURE__*/function(_Component){_inherits(HomePage,_Component);var _super=_createSuper(HomePage);function HomePage(){var _this;_classCallCheck(this,HomePage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.fetchData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var booksRef,availableBooks;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:booksRef=firestore.collection('books');availableBooks=[];booksRef.onSnapshot(function(snapShot){snapShot.forEach(function(doc){return availableBooks.push(_objectSpread({},doc.data(),{id:doc.id}));});});case 3:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"section\",{className:\"section\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"section__title\"},\" New arrivals\"),/*#__PURE__*/React.createElement(\"div\",{className:\"section__books\"},books.map(function(item){return/*#__PURE__*/React.createElement(SingleBook,{key:item.id,book:item});})));}}]);return HomePage;}(Component);export default HomePage;","map":{"version":3,"sources":["/home/suman/react-projects/redux/my-bookstore/src/container/HomePage/HomePage.js"],"names":["React","Component","firestore","getBooks","SingleBook","books","HomePage","fetchData","booksRef","collection","availableBooks","onSnapshot","snapShot","forEach","doc","push","data","id","map","item"],"mappings":"42BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,KAA0B,sBAA1B,CACA,OAASC,QAAT,KAAyB,kCAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,wCAAvB,CACA,OAASC,KAAT,KAAsB,yBAAtB,CACA,MAAO,iBAAP,C,GAEMC,CAAAA,Q,mUAKJC,S,sEAAY,+JACJC,QADI,CACON,SAAS,CAACO,UAAV,CAAqB,OAArB,CADP,CAEJC,cAFI,CAEa,EAFb,CAGVF,QAAQ,CAACG,UAAT,CAAoB,SAAAC,QAAQ,CAAI,CAC9BA,QAAQ,CAACC,OAAT,CAAiB,SAAAC,GAAG,QAAIJ,CAAAA,cAAc,CAACK,IAAf,kBAAyBD,GAAG,CAACE,IAAJ,EAAzB,EAAqCC,EAAE,CAAEH,GAAG,CAACG,EAA7C,GAAJ,EAApB,EACD,CAFD,EAHU,sD,mGAJQ,CAClB,KAAKV,SAAL,GACD,C,uCAUQ,CACP,mBACE,+BAAS,SAAS,CAAC,SAAnB,eACE,0BAAI,SAAS,CAAC,gBAAd,kBADF,cAEE,2BAAK,SAAS,CAAC,gBAAf,EAEIF,KAAK,CAACa,GAAN,CAAU,SAAAC,IAAI,qBAAK,oBAAC,UAAD,EAAY,GAAG,CAAEA,IAAI,CAACF,EAAtB,CAA0B,IAAI,CAAEE,IAAhC,EAAL,EAAd,CAFJ,CAFF,CADF,CAWD,C,sBAzBoBlB,S,EA4BvB,cAAeK,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport { firestore } from '../../firebase/index';\nimport { getBooks } from '../../redux/actions/book.actions';\nimport SingleBook from '../../components/SingleBook/SingleBook';\nimport { books } from '../../utilities/utility';\nimport './HomePage.scss';\n\nclass HomePage extends Component {\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    const booksRef = firestore.collection('books');\n    const availableBooks = [];\n    booksRef.onSnapshot(snapShot => {\n      snapShot.forEach(doc => availableBooks.push({ ...doc.data(), id: doc.id }));\n    });\n  }\n\n  render() {\n    return (\n      <section className=\"section\">\n        <h3 className=\"section__title\"> New arrivals</h3>\n        <div className=\"section__books\">\n          {\n            books.map(item => (<SingleBook key={item.id} book={item} />))\n          }\n        </div>\n      </section>\n\n    );\n  }\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}