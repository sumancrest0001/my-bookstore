{"ast":null,"code":"import _regeneratorRuntime from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/suman/react-projects/redux/my-bookstore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import firebase from'firebase/app';import'firebase/storage';import'firebase/firestore';import'firebase/auth';var firebaseConfig={apiKey:'AIzaSyB5F3x05Au8Q1Z-SngX-5yifqTTKqdGfbA',authDomain:'my-bookstore-10ebf.firebaseapp.com',databaseURL:'https://my-bookstore-10ebf.firebaseio.com',projectId:'my-bookstore-10ebf',storageBucket:'my-bookstore-10ebf.appspot.com',messagingSenderId:'1026592209435',appId:'1:1026592209435:web:e3e47004ef5662fcec56be',measurementId:'G-YW2ZYNY1LW'};// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);var storage=firebase.storage();var auth=firebase.auth();var firestore=firebase.firestore();var createUserProfileDocument=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userAuth,additionalData){var userRef,snapShot,displayName,email,createdAt;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(userAuth){_context.next=2;break;}return _context.abrupt(\"return\");case 2:userRef=firestore.doc(\"users/\".concat(userAuth.uid));_context.next=5;return userRef.get();case 5:snapShot=_context.sent;if(snapShot.exists){_context.next=17;break;}displayName=userAuth.displayName,email=userAuth.email;createdAt=new Date();_context.prev=9;_context.next=12;return userRef.set(_objectSpread({displayName:displayName,email:email,createdAt:createdAt},additionalData));case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](9);console.log('error creating user',_context.t0.message);case 17:return _context.abrupt(\"return\",userRef);case 18:case\"end\":return _context.stop();}}},_callee,null,[[9,14]]);}));return function createUserProfileDocument(_x,_x2){return _ref.apply(this,arguments);};}();var provider=new firebase.auth.GoogleAuthProvider();provider.setCustomParameters({prompt:'select_account'});var signInWithGoogle=function signInWithGoogle(){return auth.signInWithPopup(provider);};export{storage,signInWithGoogle,createUserProfileDocument,auth,firestore,firebase as default};","map":{"version":3,"sources":["/home/suman/react-projects/redux/my-bookstore/src/firebase/index.js"],"names":["firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","storage","auth","firestore","createUserProfileDocument","userAuth","additionalData","userRef","doc","uid","get","snapShot","exists","displayName","email","createdAt","Date","set","console","log","message","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithGoogle","signInWithPopup","default"],"mappings":"4XAAA,MAAOA,CAAAA,QAAP,KAAqB,cAArB,CACA,MAAO,kBAAP,CACA,MAAO,oBAAP,CACA,MAAO,eAAP,CAEA,GAAMC,CAAAA,cAAc,CAAG,CACrBC,MAAM,CAAE,yCADa,CAErBC,UAAU,CAAE,oCAFS,CAGrBC,WAAW,CAAE,2CAHQ,CAIrBC,SAAS,CAAE,oBAJU,CAKrBC,aAAa,CAAE,gCALM,CAMrBC,iBAAiB,CAAE,eANE,CAOrBC,KAAK,CAAE,4CAPc,CAQrBC,aAAa,CAAE,cARM,CAAvB,CAUA;AACAT,QAAQ,CAACU,aAAT,CAAuBT,cAAvB,EAEA,GAAMU,CAAAA,OAAO,CAAGX,QAAQ,CAACW,OAAT,EAAhB,CACA,GAAMC,CAAAA,IAAI,CAAGZ,QAAQ,CAACY,IAAT,EAAb,CACA,GAAMC,CAAAA,SAAS,CAAGb,QAAQ,CAACa,SAAT,EAAlB,CAEA,GAAMC,CAAAA,yBAAyB,0FAAG,iBAAOC,QAAP,CAAiBC,cAAjB,sKAC3BD,QAD2B,iEAE1BE,OAF0B,CAEhBJ,SAAS,CAACK,GAAV,iBAAuBH,QAAQ,CAACI,GAAhC,EAFgB,uBAGTF,CAAAA,OAAO,CAACG,GAAR,EAHS,QAG1BC,QAH0B,kBAI3BA,QAAQ,CAACC,MAJkB,0BAKtBC,WALsB,CAKCR,QALD,CAKtBQ,WALsB,CAKTC,KALS,CAKCT,QALD,CAKTS,KALS,CAMxBC,SANwB,CAMZ,GAAIC,CAAAA,IAAJ,EANY,wCAStBT,CAAAA,OAAO,CAACU,GAAR,gBACJJ,WAAW,CAAXA,WADI,CAEJC,KAAK,CAALA,KAFI,CAGJC,SAAS,CAATA,SAHI,EAIDT,cAJC,EATsB,0FAgB5BY,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmC,YAAMC,OAAzC,EAhB4B,wCAoBzBb,OApByB,uEAAH,kBAAzBH,CAAAA,yBAAyB,gDAA/B,CAuBA,GAAMiB,CAAAA,QAAQ,CAAG,GAAI/B,CAAAA,QAAQ,CAACY,IAAT,CAAcoB,kBAAlB,EAAjB,CACAD,QAAQ,CAACE,mBAAT,CAA6B,CAAEC,MAAM,CAAE,gBAAV,CAA7B,EAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,SAAMvB,CAAAA,IAAI,CAACwB,eAAL,CAAqBL,QAArB,CAAN,EAAzB,CAGA,OACEpB,OADF,CACWwB,gBADX,CAC6BrB,yBAD7B,CACwDF,IADxD,CAC8DC,SAD9D,CACyEb,QAAQ,GAAIqC,CAAAA,OADrF","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/storage';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyB5F3x05Au8Q1Z-SngX-5yifqTTKqdGfbA',\n  authDomain: 'my-bookstore-10ebf.firebaseapp.com',\n  databaseURL: 'https://my-bookstore-10ebf.firebaseio.com',\n  projectId: 'my-bookstore-10ebf',\n  storageBucket: 'my-bookstore-10ebf.appspot.com',\n  messagingSenderId: '1026592209435',\n  appId: '1:1026592209435:web:e3e47004ef5662fcec56be',\n  measurementId: 'G-YW2ZYNY1LW',\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst storage = firebase.storage();\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nconst createUserProfileDocument = async (userAuth, additionalData) => {\n  if (!userAuth) return;\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\n  const snapShot = await userRef.get();\n  if (!snapShot.exists) {\n    const { displayName, email } = userAuth;\n    const createdAt = new Date();\n\n    try {\n      await userRef.set({\n        displayName,\n        email,\n        createdAt,\n        ...additionalData,\n      });\n    } catch (error) {\n      console.log('error creating user', error.message);\n    }\n  }\n  // eslint-disable-next-line consistent-return\n  return userRef;\n};\n\nconst provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({ prompt: 'select_account' });\n\nconst signInWithGoogle = () => auth.signInWithPopup(provider);\n\n\nexport {\n  storage, signInWithGoogle, createUserProfileDocument, auth, firestore, firebase as default,\n};\n"]},"metadata":{},"sourceType":"module"}