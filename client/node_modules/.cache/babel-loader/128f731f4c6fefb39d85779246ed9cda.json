{"ast":null,"code":"var _jsxFileName = \"/home/suman/react-projects/redux/my-bookstore/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport HomePage from './container/HomePage/HomePage';\nimport AdminMainContainer from './container/AdminContainers/AdminMainContainer/AdminMainContainer';\nimport Signin from './components/Auth/Signin/Signin';\nimport Signup from './components/Auth/Signup/Signup';\nimport Logout from './components/Auth/Logout/Logout';\nimport { auth, createUserProfileDocument } from './firebase/index';\nimport classes from './App.module.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.unSubscribeFromAuth = null;\n    this.state = {\n      admin: false,\n      currentUser: ''\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextState.admin !== this.state.admin;\n  }\n\n  componentDidMount() {\n    this.unSubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          const result = snapShot.data().email === 'suman.crest0001@gmail.com';\n          this.setState({\n            currentUser: {\n              id: snapShot.id,\n              ...snapShot.data()\n            },\n            admin: result\n          });\n        });\n      } else {\n        this.setState({\n          currentUser: userAuth,\n          admin: false\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.unSubscribeFromAuth();\n  }\n\n  render() {\n    const {\n      admin\n    } = this.state;\n    const ComponentToRender = admin ? /*#__PURE__*/React.createElement(AdminMainContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 39\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 64\n      }\n    });\n    return /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.App,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/auth\",\n      exact: true,\n      render: () => admin ? /*#__PURE__*/React.createElement(AdminMainContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 62\n        }\n      }) : /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 87\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signin\",\n      exact: true,\n      component: Signin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      exact: true,\n      component: Signup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/logout\",\n      exact: true,\n      component: Logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: HomePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/suman/react-projects/redux/my-bookstore/src/App.js"],"names":["React","Component","BrowserRouter","Route","Redirect","Switch","HomePage","AdminMainContainer","Signin","Signup","Logout","auth","createUserProfileDocument","classes","App","constructor","unSubscribeFromAuth","state","admin","currentUser","shouldComponentUpdate","nextProps","nextState","componentDidMount","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","result","data","email","setState","id","componentWillUnmount","render","ComponentToRender"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter, Route, Redirect, Switch,\n} from 'react-router-dom';\nimport HomePage from './container/HomePage/HomePage';\nimport AdminMainContainer from './container/AdminContainers/AdminMainContainer/AdminMainContainer';\nimport Signin from './components/Auth/Signin/Signin';\nimport Signup from './components/Auth/Signup/Signup';\nimport Logout from './components/Auth/Logout/Logout';\nimport { auth, createUserProfileDocument } from './firebase/index';\nimport classes from './App.module.css';\n\n\nclass App extends Component {\n  unSubscribeFromAuth = null;\n\n  constructor() {\n    super();\n    this.state = {\n      admin: false,\n      currentUser: '',\n    };\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextState.admin !== this.state.admin;\n  }\n\n  componentDidMount() {\n    this.unSubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          const result = snapShot.data().email === 'suman.crest0001@gmail.com';\n          this.setState({\n            currentUser: {\n              id: snapShot.id,\n              ...snapShot.data(),\n            },\n            admin: result,\n          });\n        });\n      } else {\n        this.setState({ currentUser: userAuth, admin: false });\n      }\n    });\n  }\n\n\n\n  componentWillUnmount() {\n    this.unSubscribeFromAuth();\n  }\n\n  render() {\n    const { admin } = this.state;\n    const ComponentToRender = admin ? <AdminMainContainer /> : <Redirect to=\"/\" />;\n    return (\n      <BrowserRouter>\n        <div className={classes.App}>\n          <Switch>\n            <Route path=\"/auth\" exact render={() => (admin ? <AdminMainContainer /> : <Redirect to=\"/\" />)} />\n            <Route path=\"/signin\" exact component={Signin} />\n            <Route path=\"/register\" exact component={Signup} />\n            <Route path=\"/logout\" exact component={Logout} />\n            <Route path=\"/\" exact component={HomePage} />\n            <Redirect to=\"/\" />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}